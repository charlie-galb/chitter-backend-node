language: node_js
node_js:
  - "node"
services:
  - postgresql
env:
  global:
    - PGPORT=5432
    - DB_NAME=chitter_test
    - DB_USER=trevor
    - secure: "10j2RVCBo60FCv3SKRtF8xA6dRxDlwL4UMbrjETGEjHEY76FgNpPhRz+mtqmXN/u+rkjlZIa6ySsxZVpXMDzifNQUuS4iDf7wTMEHF5CJciNWRuWYxnU957KJ+SFUbUXVemVTLNg1rVkaUikZY9ymbrJvuopbsgUEIsS96+deGn4uC8rA+r2Hc9wXZCiq/P17iTRuaDUUxk8N+9pe1Wto2WKBM33tZyiFFUFNaXRNYJgBvo74xWM0GNGr751XXMcwCc2HgKWPAk8fyq5AcXl+GT4W0Xp+lZTRlnRL3Zyp1fwdCHKJaYPVD4iuvtVij1mY2qtHYQ2/81x2rTgm6iydUUTLZ84OCnb0d3hAI6J+T0ALQpL6ms5KPh+M8zwW2ZnClDRgKAeWbqYYXbeqDQGObkWi+OJznVZrzhJ6kxERtX/VKFyn1hbLBna/LBuJmV8A5yCwYOfCNNQ2QLGAAFVxCCOWYAdwMPli8ry1rHQ/iw5LB4MpOG3ZG0oqpg/FIFqFOCWvYP7LtS3b3x8wAm+6pkO7daNPutZBJfhxxBoXjyN4788OVntx47x/tOkPBU+1rw33ybC79hVFDM8AfFM4SQ9BcSfcdlmQQDU7CLXKuFW9BXGAzui7lOru27EoVmRhuCjKEQNg6DT3RNajbCVbGJdBXippNYrNS/B7c7gcG0="
    - secure: "U6DUdNFkJzi79XdYvohMHicz6xolZPN1OBDvDm4NeSp5TPgO1+GR3OJIkNlQVJYaTb8HEp90YBeONf/IC8XWIukfK9ndkNvTB7chsO6mjypQgw/IQQhhpr46XUQ7gfPqaawAa+ETrhYj/4AH5yENjLuTtxkgP4moXlfBqwXC6pM+NgKuivVfhe950tK6RII8qSbQrhLHXCB/OqE/VgKTx4XvonIXvOXO1DF36csCnqZ9KK6MXkpTAwg35XP99XToRn08h3z5mbvAb0eceGNAlrjNurSdKLc00VMR/PbFGYyNlAs5CyUYD57YNF6rsNqoO0ZHuWERlmdxplvPruq99fFUmIc1UK4SGotob9M59etfKEzmCjgcv+u7SXBbhK68jKTw++ui+IQK/8BQEcvQ9Wjqsi8JNOVji/MH/nzl+7zc0qk6S54izYfKxwmQtdTVF/V/7XvBFn5yPVO2ddqQxehu9Zw3EzSAe04+0eNsT4uniRv/DSEjy8E51018hPkKraZC47uKzgLmcdVQP38dz+IulY9ZJAX/fzsL2l/iJnIH/+05W2OUNFfdkjwL4mp/expjaUT1eRf5CA/dRCq+ArH0/PUKFdheUiA7WZsVnXOKwNLrglQ+HpF6gsgxL/Useh9+YSN9Jt0DBYAxuFmY8dApuNC7guDvO86PjI4+nSA="
    - secure: "gP5HaEKI6kQzKdBKhpLfxkNeQdbasIarJFkFYCOteN51VKjegjyjHsZ5sPYI3btniZlW0U75NBX5Yjp46L4pBHmyhBLdQEOCgakzZhuSCdtfx/gyqixolMBWzE9u2Ep1z4OLNsNYgwJZ9Lo9B8Lme2rn6qnqqC7yoaXcRdtOHgQAjw1FlhdtEhXomaqvmUNKwZOtzv6QMc/6b/zFPEVtOU/65AF5i6H+dFmH/DZ2vcpyWEaENQjaozxgDAr+ALsYsd6CxelQSUpHocYf0sGjqhFXL1OR6fvOf3tRK5bcaTRcvFe7SAkeVBM1YG5AQ3ISZYialVXYT8CvggtLlurDYG9WSfbowqegpVxsThkV/6RnuH0TIKjRhmo29y224jGiHEGcGnwLfZ3NSwTRT7KkQu84U3czn/+x0JiLp9tZSHP+1iGmgXL58UFCo3xb2A0VKbo9YHNtm6SAVoS6B31Tuo0C+yQzvj7yUlwnvP16DW9y04/KLsUtb9QmKexITuKwfZANq8iMGH9tTNqblQJIWqVfWeqgLkbqOz906gII6QVf/feK3Xzh/lLm0oGOlv9AHPCQ6abDgMRGcjPsSRHh4brTE3U36B9L9j37Ld6B5qgYq0oN0mxDuHn4+rhX9ZuxDJFZ2EHzPj5sOPG1zibGrhPj0lx8/B+ApVNRCTqUC0k="
    - secure: "F83OB82rAumkAC7f89WWIPccfLtjXMPdVMuNS/dPdT20tSWX9U48H9Wo+tk9ApvLFJSOWFFU6z7oltxx7z977EvLPfqzmvmHMV8JqVwx0010yEYfzblyKVNpEVpcjU42gro5b2bJ8n/r0o7VfjB3QfpPDQMUVyljj/SMkppFFG5X0HeHMTjsECQvHBUHwgp8I5X98MxWFr6ole5KCAY2jHhJQ2zG32GEd8HQqrPjF50LRXU/1//c/J2xGzLFh0Yoi3Pc6M5+3xVZqcSENHrf9Hoer6YGad5NMGQPfiEGCV7arScY+5ZbauSWzcugtkbviNb62jXbVf+jdejEguRJcZiT/E2J5iQSxojCUzbQJEQzO3fxrucNLlkcS7Xn0NHV7FjGUxcPKICH2GWthmD1ZxpCOBI/HI7UA/mhR/x8OBXa4suvSaf3v/6ZabStSeVPu5ryc5L/rraW5ra4MjnweMhPXRj8Zcrq9Kag95lUwM5zKW1I5lB5rxFXo6Cz1szlhAPR0D2mtQkojUCo60iT5YvL/jZUmLsl2wl4WvkcQP6p9zjnjdfJJog73TWv1ctwu936AuQDkoSB4v/Mlm6yry68iKrjs0Jk+sUpPnWr9o4LzE72+tcyoH3KArSv44A3RpoQ0Y4d1wWMhU5ml4KcWLkpIjPqqg45wzucbJ+As6A="
before_script:
  - psql --command="CREATE USER ${DB_USER};"
  - psql --command="CREATE DATABASE ${DB_NAME} WITH OWNER = ${DB_USER};"